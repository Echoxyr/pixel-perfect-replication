// Tutorial step definitions for interactive guided tours
// TUTORIAL CONCISI - Operativit√† chiara senza testo superfluo

export interface TutorialStep {
  id: string;
  title: string;
  description: string;
  targetSelector?: string;
  route?: string;
  position?: 'top' | 'bottom' | 'left' | 'right' | 'center';
  action?: 'click' | 'type' | 'scroll' | 'hover' | 'wait';
  actionDelay?: number;
  highlightPadding?: number;
  cursorOffset?: { x: number; y: number };
}

export interface Tutorial {
  id: string;
  title: string;
  description: string;
  icon: string;
  estimatedTime: string;
  category: 'principale' | 'commesse' | 'hse' | 'commerciale' | 'amministrazione' | 'logistica' | 'compliance';
  steps: TutorialStep[];
}

export const tutorials: Tutorial[] = [
  // ==================== PRINCIPALE ====================
  {
    id: 'dashboard-tour',
    title: 'Tour Dashboard',
    description: 'Panoramica completa della dashboard: statistiche, alert, navigazione e personalizzazione',
    icon: 'LayoutDashboard',
    estimatedTime: '3 min',
    category: 'principale',
    steps: [
      {
        id: 'intro',
        title: 'Benvenuto in Gest-e! üëã',
        description: 'La Dashboard mostra in tempo reale: cantieri attivi, alert sicurezza, scadenze e task. Ogni elemento √® cliccabile.',
        position: 'center',
        route: '/dashboard',
      },
      {
        id: 'stat-cards',
        title: 'üìä Statistiche Rapide',
        description: 'Card con KPI principali: Commesse Attive, Task da Completare, Alert Sicurezza, Scadenze. Clicca per vedere i dettagli.',
        targetSelector: '[data-tutorial="stat-cards"]',
        position: 'bottom',
        highlightPadding: 15,
      },
      {
        id: 'sidebar',
        title: 'üìÇ Menu Navigazione',
        description: 'Organizzato per reparti: Principale, Commesse, Sicurezza HSE, Commerciale, Amministrazione, Logistica, Conformit√†. Sezioni collassabili.',
        targetSelector: '[data-tutorial="sidebar"]',
        position: 'right',
      },
      {
        id: 'search',
        title: 'üîç Ricerca Globale (Ctrl+K)',
        description: 'Cerca ovunque: commesse, lavoratori, imprese, documenti, task. Ricerca fuzzy con risultati immediati.',
        targetSelector: '[data-tutorial="global-search"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'notifications',
        title: 'üîî Centro Notifiche',
        description: 'Scadenze documenti, task assegnate, alert critici. Il badge mostra le notifiche non lette.',
        targetSelector: '[data-tutorial="notifications"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'critical-alerts',
        title: '‚ö†Ô∏è Alert Critici',
        description: 'Badge rosso = documenti scaduti, lavoratori non idonei, imprese non conformi. Risolvi subito per evitare sanzioni D.Lgs 81/08.',
        targetSelector: '[data-tutorial="critical-alerts"]',
        position: 'bottom',
      },
      {
        id: 'user-menu',
        title: 'üë§ Menu Utente',
        description: 'Profilo, Impostazioni, Dati Azienda, Logout. Il tuo nome appare nei documenti generati.',
        targetSelector: '[data-tutorial="user-menu"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Dashboard Completata! ‚ú®',
        description: 'Ora conosci: card statistiche, menu laterale, ricerca Ctrl+K, notifiche e alert. Prosegui con altri tutorial!',
        position: 'center',
      },
    ],
  },
  {
    id: 'projects-kanban',
    title: 'Gestione Progetti Kanban',
    description: 'Board Kanban, vista tabella, timeline Gantt e calendario per gestire task',
    icon: 'FolderKanban',
    estimatedTime: '4 min',
    category: 'principale',
    steps: [
      {
        id: 'intro',
        title: 'Modulo Progetti üìã',
        description: 'Gestisci task con: Board Kanban (drag & drop), Tabella (filtri avanzati), Timeline Gantt, Calendario mensile.',
        position: 'center',
      },
      {
        id: 'nav-progetti',
        title: 'Accedi ai Progetti',
        description: 'Clicca "Progetti" nel menu laterale oppure usa Ctrl+K e cerca "progetti".',
        targetSelector: '[data-tutorial="nav-progetti"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'progetti-page',
        title: 'Pagina Progetti',
        description: 'In alto: statistiche, filtri, ricerca, selettore vista. Le viste sono sincronizzate tra loro.',
        route: '/progetti',
        position: 'center',
      },
      {
        id: 'view-tabs',
        title: 'üëÅÔ∏è Quattro Viste',
        description: 'üìä Kanban: workflow drag & drop | üìã Tabella: filtri ed export | üìà Timeline: Gantt temporale | üìÖ Calendario: scadenze mensili',
        targetSelector: '[data-tutorial="view-tabs"]',
        position: 'bottom',
      },
      {
        id: 'kanban-columns',
        title: 'üìä Colonne Kanban',
        description: 'Da Fare ‚Üí In Corso ‚Üí In Revisione ‚Üí Fatto ‚Üí Bloccato. Trascina le card per cambiare stato. Bordo colorato = priorit√†.',
        targetSelector: '[data-tutorial="kanban-columns"]',
        position: 'top',
      },
      {
        id: 'new-task',
        title: '‚ûï Nuova Task',
        description: 'Campi: Titolo, Descrizione, Commessa, Assegnatario, Priorit√†, Date, Allegati. Sii specifico nel titolo.',
        targetSelector: '[data-tutorial="btn-new-task"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Kanban Completato! üéâ',
        description: 'Usa Kanban quotidianamente, Tabella per analisi, Gantt per pianificare, Calendario per scadenze. Aggiorna lo stato ogni giorno!',
        position: 'center',
      },
    ],
  },

  // ==================== COMMESSE ====================
  {
    id: 'create-commessa',
    title: 'Creare una Commessa',
    description: 'Creazione completa: anagrafica, committente, importo, date, figure responsabili',
    icon: 'Briefcase',
    estimatedTime: '5 min',
    category: 'commesse',
    steps: [
      {
        id: 'intro',
        title: 'Cos\'√® una Commessa? üèóÔ∏è',
        description: 'Entit√† centrale con: anagrafica, dati economici, figure responsabili (DL, CSP, CSE), imprese/lavoratori collegati, documenti.',
        position: 'center',
      },
      {
        id: 'nav-cantieri',
        title: 'Vai a Commesse',
        description: 'Clicca "Commesse" nel menu laterale, sezione Commesse. Oppure Ctrl+K ‚Üí "commesse".',
        targetSelector: '[data-tutorial="nav-cantieri"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'cantieri-page',
        title: 'Elenco Commesse',
        description: 'Card con: semaforo stato üü¢üü°‚ö´, nome/codice, committente, importo, barra SAL, date, badge alert.',
        route: '/cantieri',
        position: 'center',
      },
      {
        id: 'click-new',
        title: '‚ûï Nuova Commessa',
        description: 'Clicca "Nuova Commessa" in alto a destra. I campi con * sono obbligatori.',
        targetSelector: '[data-tutorial="btn-nuovo-cantiere"]',
        position: 'bottom',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'fill-form-intro',
        title: 'üìù Modulo Creazione',
        description: 'Sezioni: Dati Identificativi, Committente, Ubicazione, Date/Importo, Figure Responsabili, Note.',
        targetSelector: '[data-tutorial="form-cantiere"]',
        position: 'left',
        highlightPadding: 20,
      },
      {
        id: 'field-nome',
        title: 'üìå Nome Commessa',
        description: 'Descrittivo e univoco. ‚úÖ "Ristrutturazione Villa Rossi - Via Roma 15" ‚ùå "Cantiere 1"',
        targetSelector: '[data-tutorial="field-nome"]',
        position: 'right',
        action: 'hover',
      },
      {
        id: 'field-codice',
        title: 'üî¢ Codice Commessa',
        description: 'ID univoco per documenti. Formato: [Prefisso]-[Anno]-[Numero]. Es: COM-2025-001',
        targetSelector: '[data-tutorial="field-codice"]',
        position: 'right',
        action: 'hover',
      },
      {
        id: 'field-importo',
        title: 'üí∞ Importo Contratto',
        description: 'Valore economico totale. Usato per calcolo SAL %, business intelligence, controllo fatturazione.',
        targetSelector: '[data-tutorial="field-importo"]',
        position: 'right',
        action: 'hover',
      },
      {
        id: 'field-responsabile',
        title: 'üë∑ Figure Responsabili',
        description: 'DL (Direttore Lavori), CSP/CSE (Coordinatori Sicurezza), RSPP. Obbligatori per D.Lgs 81/08.',
        targetSelector: '[data-tutorial="field-responsabile"]',
        position: 'right',
        action: 'hover',
      },
      {
        id: 'save-form',
        title: 'üíæ Salva Commessa',
        description: 'Verifica automatica: campi obbligatori, codice univoco, date coerenti. Poi assegna imprese e lavoratori.',
        targetSelector: '[data-tutorial="btn-salva-cantiere"]',
        position: 'top',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Commessa Creata! üéâ',
        description: 'Prossimi passi: assegna imprese, lavoratori, carica documenti (POS), registra budget, crea task.',
        position: 'center',
      },
    ],
  },
  {
    id: 'manage-commessa-detail',
    title: 'Dettaglio Commessa',
    description: 'Panoramica, imprese, lavoratori, documenti, SAL, rapportini e budget',
    icon: 'FileText',
    estimatedTime: '4 min',
    category: 'commesse',
    steps: [
      {
        id: 'intro',
        title: 'Centro di Controllo üìã',
        description: 'Da qui gestisci: panoramica KPI, imprese, lavoratori, documenti, SAL, rapportini, budget.',
        position: 'center',
      },
      {
        id: 'detail-header',
        title: 'üìä Intestazione',
        description: 'Nome, stato, committente, importo, date, barra SAL. Azioni: modifica, cambia stato, esporta PDF, archivia.',
        targetSelector: '[data-tutorial="detail-header"]',
        position: 'bottom',
      },
      {
        id: 'tabs-navigation',
        title: 'üìë Tab Navigazione',
        description: 'Panoramica | Imprese | Lavoratori | Documenti | SAL | Rapportini | Budget. Badge = conteggio elementi.',
        targetSelector: '[data-tutorial="detail-tabs"]',
        position: 'bottom',
      },
      {
        id: 'tab-imprese',
        title: 'üè¢ Tab Imprese',
        description: 'Subappaltatori assegnati. Semaforo documenti üü¢üü°üî¥. Non puoi assegnare imprese con DURC scaduto.',
        targetSelector: '[data-tutorial="tab-imprese"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'tab-lavoratori',
        title: 'üë∑ Tab Lavoratori',
        description: 'Personale operante. Semaforo compliance: üü¢ OK, üü° in scadenza, üî¥ scaduto = non pu√≤ lavorare.',
        targetSelector: '[data-tutorial="tab-lavoratori"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'tab-documenti',
        title: 'üìÑ Tab Documenti',
        description: 'POS, PSC, autorizzazioni, verbali. Upload PDF/immagini. Stato: valido, in scadenza, scaduto.',
        targetSelector: '[data-tutorial="tab-documenti"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'tab-sal',
        title: 'üìà Tab SAL',
        description: 'Stato Avanzamento Lavori. Grafico previsto vs consuntivo. % = Œ£ SAL √∑ Importo Contratto.',
        targetSelector: '[data-tutorial="tab-sal"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Dettaglio Completato! ‚ú®',
        description: 'Usa i tab per gestire ogni aspetto. Monitora sempre il semaforo documenti per la compliance.',
        position: 'center',
      },
    ],
  },

  // ==================== HSE ====================
  {
    id: 'manage-lavoratori',
    title: 'Gestione Lavoratori',
    description: 'Anagrafica, formazioni, visite mediche, DPI - compliance D.Lgs 81/08',
    icon: 'Users',
    estimatedTime: '5 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'Anagrafica Lavoratori üë∑',
        description: 'Gestione completa: dati anagrafici, formazioni obbligatorie, visite mediche, DPI consegnati. Semaforo compliance automatico.',
        position: 'center',
      },
      {
        id: 'nav-lavoratori',
        title: 'Vai a Lavoratori',
        description: 'Clicca "Lavoratori" nel menu Sicurezza & HSE. Oppure Ctrl+K ‚Üí "lavoratori".',
        targetSelector: '[data-tutorial="nav-lavoratori"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'lavoratori-page',
        title: 'Elenco Lavoratori',
        description: 'Tabella con: nome, impresa, mansione, semaforo compliance üü¢üü°üî¥, azioni rapide.',
        route: '/lavoratori',
        position: 'center',
      },
      {
        id: 'traffic-light',
        title: 'üö¶ Sistema Semaforo',
        description: 'üü¢ Verde: tutto OK | üü° Giallo: scadenza entro 30gg | üî¥ Rosso: scaduto, NON pu√≤ lavorare (sanzioni ASL).',
        targetSelector: '[data-tutorial="traffic-light"]',
        position: 'right',
      },
      {
        id: 'new-lavoratore',
        title: '‚ûï Nuovo Lavoratore',
        description: 'Campi: Nome, Cognome, CF, Data nascita, Impresa, Mansione, Livello, Contatti.',
        targetSelector: '[data-tutorial="btn-nuovo-lavoratore"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'formazioni',
        title: 'üìö Formazioni Obbligatorie',
        description: 'Base 16h, Specifica, Preposti, Antincendio, Primo Soccorso, Attrezzature. Scadenze automatiche.',
        targetSelector: '[data-tutorial="tab-formazioni"]',
        position: 'bottom',
      },
      {
        id: 'visite-mediche',
        title: 'üè• Visite Mediche',
        description: 'Preventiva, Periodica, Cambio mansione, Rientro malattia. Giudizio idoneit√† obbligatorio.',
        targetSelector: '[data-tutorial="tab-visite"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'Lavoratori Completato! üéâ',
        description: 'Monitora sempre il semaforo. üî¥ Rosso = lavoratore fermo + possibili sanzioni fino a ‚Ç¨6.400 + arresto.',
        position: 'center',
      },
    ],
  },
  {
    id: 'manage-imprese',
    title: 'Gestione Imprese',
    description: 'Subappaltatori, DURC, Visura, documenti - qualifica fornitori',
    icon: 'Building2',
    estimatedTime: '4 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'Anagrafica Imprese üè¢',
        description: 'Gestione subappaltatori: dati anagrafici, documenti (DURC, Visura, Polizza), rating, assegnazione cantieri.',
        position: 'center',
      },
      {
        id: 'nav-imprese',
        title: 'Vai a Imprese',
        description: 'Clicca "Imprese" nel menu Sicurezza & HSE.',
        targetSelector: '[data-tutorial="nav-imprese"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'imprese-page',
        title: 'Elenco Imprese',
        description: 'Ragione sociale, P.IVA, tipo, semaforo documenti üü¢üü°üî¥, rating, cantieri assegnati.',
        route: '/imprese',
        position: 'center',
      },
      {
        id: 'documenti-impresa',
        title: 'üìÑ Documenti Obbligatori',
        description: 'DURC (trimestrale), Visura Camerale, Polizza RCT/O, Attestazione SOA, DUVRI. Scadenzario automatico.',
        targetSelector: '[data-tutorial="docs-impresa"]',
        position: 'right',
      },
      {
        id: 'complete',
        title: 'Imprese Completato! ‚ú®',
        description: 'Impresa con üî¥ non pu√≤ essere assegnata a cantieri. Risolvi i documenti prima dell\'assegnazione.',
        position: 'center',
      },
    ],
  },
  {
    id: 'formazione-sicurezza',
    title: 'Formazione Sicurezza',
    description: 'Corsi obbligatori, scadenze, attestati - D.Lgs 81/08 art. 37',
    icon: 'GraduationCap',
    estimatedTime: '4 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'Formazione D.Lgs 81/08 üìö',
        description: 'Art. 37: formazione obbligatoria per tutti i lavoratori. Gestione corsi, scadenze, attestati.',
        position: 'center',
      },
      {
        id: 'nav-formazione',
        title: 'Vai a Formazione',
        description: 'Menu Sicurezza & HSE ‚Üí Formazione.',
        targetSelector: '[data-tutorial="nav-formazione"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'formazione-page',
        title: 'Dashboard Formazione',
        description: 'Statistiche: in regola, in scadenza, scaduti. Calendario scadenze. Elenco corsi per lavoratore.',
        route: '/formazione',
        position: 'center',
      },
      {
        id: 'tipi-corsi',
        title: 'üìã Tipologie Corsi',
        description: 'Base 16h (5 anni), Specifica rischio (5 anni), Preposti (2 anni), Antincendio, Primo Soccorso, Attrezzature.',
        targetSelector: '[data-tutorial="tipi-corsi"]',
        position: 'bottom',
      },
      {
        id: 'registra-corso',
        title: '‚ûï Registra Formazione',
        description: 'Campi: Lavoratore, Tipo corso, Data, Ore, Ente formatore, Attestato PDF. Scadenza calcolata automaticamente.',
        targetSelector: '[data-tutorial="btn-nuova-formazione"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Formazione Completata! üéâ',
        description: 'Sanzioni: ‚Ç¨1.200-‚Ç¨5.200 per ogni lavoratore non formato. Monitora le scadenze!',
        position: 'center',
      },
    ],
  },
  {
    id: 'sorveglianza-sanitaria',
    title: 'Sorveglianza Sanitaria',
    description: 'Visite mediche, idoneit√†, protocollo sanitario - art. 41',
    icon: 'Stethoscope',
    estimatedTime: '4 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'Visite Mediche üè•',
        description: 'Art. 41 D.Lgs 81/08: sorveglianza sanitaria obbligatoria. Gestione visite, giudizi idoneit√†, scadenze.',
        position: 'center',
      },
      {
        id: 'nav-visite',
        title: 'Vai a Sorveglianza',
        description: 'Menu Sicurezza & HSE ‚Üí Sorveglianza Sanitaria.',
        targetSelector: '[data-tutorial="nav-sorveglianza"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'visite-page',
        title: 'Dashboard Visite',
        description: 'Calendario visite, elenco per lavoratore, alert scadenze, statistiche idoneit√†.',
        route: '/sorveglianza-sanitaria',
        position: 'center',
      },
      {
        id: 'tipi-visite',
        title: 'üìã Tipologie Visite',
        description: 'Preventiva (assunzione), Periodica (annuale/biennale), Cambio mansione, Rientro malattia >60gg, Su richiesta.',
        targetSelector: '[data-tutorial="tipi-visite"]',
        position: 'bottom',
      },
      {
        id: 'giudizi',
        title: '‚úÖ Giudizi Idoneit√†',
        description: 'Idoneo, Idoneo con prescrizioni, Idoneo con limitazioni, Temporaneamente non idoneo, Non idoneo permanente.',
        targetSelector: '[data-tutorial="giudizi"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'Sorveglianza Completata! ‚ú®',
        description: 'Lavoratore senza idoneit√† = non pu√≤ lavorare. Programma visite con anticipo per evitare blocchi.',
        position: 'center',
      },
    ],
  },
  {
    id: 'dpi-management',
    title: 'Gestione DPI',
    description: 'Consegna, scadenze, registro - obblighi art. 77',
    icon: 'HardHat',
    estimatedTime: '3 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'DPI - Dispositivi Protezione ü¶∫',
        description: 'Art. 77 D.Lgs 81/08: obbligo fornitura, addestramento, registro consegne. Traccia tutto digitalmente.',
        position: 'center',
      },
      {
        id: 'nav-dpi',
        title: 'Vai a DPI',
        description: 'Menu Sicurezza & HSE ‚Üí DPI.',
        targetSelector: '[data-tutorial="nav-dpi"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'dpi-page',
        title: 'Registro DPI',
        description: 'Elenco consegne per lavoratore. Tipo DPI, data consegna, scadenza, stato.',
        route: '/dpi',
        position: 'center',
      },
      {
        id: 'nuova-consegna',
        title: '‚ûï Registra Consegna',
        description: 'Campi: Lavoratore, Tipo DPI, Marca/Modello, Taglia, Data consegna, Scadenza, Quantit√†.',
        targetSelector: '[data-tutorial="btn-nuovo-dpi"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'DPI Completato! üéâ',
        description: 'Il registro DPI firmato √® documento obbligatorio. Esporta PDF per ogni lavoratore.',
        position: 'center',
      },
    ],
  },
  {
    id: 'checkin-cantiere',
    title: 'Check-in Sicurezza',
    description: 'Verifica quotidiana cantiere, briefing, DPI - documentazione giornaliera',
    icon: 'ClipboardCheck',
    estimatedTime: '3 min',
    category: 'hse',
    steps: [
      {
        id: 'intro',
        title: 'Check-in Giornaliero ‚úÖ',
        description: 'Verifica quotidiana inizio lavori: DPI, meteo, briefing, segnalazioni. Documenta tutto con foto.',
        position: 'center',
      },
      {
        id: 'nav-checkin',
        title: 'Vai a Check-in',
        description: 'Menu Sicurezza & HSE ‚Üí Check-in Sicurezza.',
        targetSelector: '[data-tutorial="nav-checkin"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'checkin-page',
        title: 'Storico Check-in',
        description: 'Elenco check-in per data/cantiere. Visualizza dettagli, foto allegate, esegui nuovo check-in.',
        route: '/checkin-sicurezza',
        position: 'center',
      },
      {
        id: 'nuovo-checkin',
        title: '‚ûï Nuovo Check-in',
        description: 'Checklist: DPI verificati, condizioni meteo, briefing effettuato, area delimitata, segnalazioni pericoli.',
        targetSelector: '[data-tutorial="btn-nuovo-checkin"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Check-in Completato! ‚ú®',
        description: 'Fai check-in ogni mattina. √à prova di diligenza in caso di ispezione o infortunio.',
        position: 'center',
      },
    ],
  },

  // ==================== COMMERCIALE ====================
  {
    id: 'ufficio-commerciale',
    title: 'Ufficio Commerciale CRM',
    description: 'Lead, pipeline vendita, preventivi, follow-up',
    icon: 'Handshake',
    estimatedTime: '4 min',
    category: 'commerciale',
    steps: [
      {
        id: 'intro',
        title: 'CRM Commerciale üìä',
        description: 'Gestione lead, pipeline vendita, preventivi, contratti. Traccia ogni opportunit√† dal primo contatto.',
        position: 'center',
      },
      {
        id: 'nav-commerciale',
        title: 'Vai a Commerciale',
        description: 'Menu Ufficio Commerciale ‚Üí CRM.',
        targetSelector: '[data-tutorial="nav-commerciale"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'commerciale-page',
        title: 'Dashboard CRM',
        description: 'Pipeline visiva, lead attivi, preventivi in attesa, valore opportunit√†.',
        route: '/ufficio-commerciale',
        position: 'center',
      },
      {
        id: 'pipeline',
        title: 'üéØ Pipeline Vendita',
        description: 'Stadi: Nuovo Lead ‚Üí Qualificato ‚Üí Proposta ‚Üí Negoziazione ‚Üí Chiuso. Drag & drop per avanzare.',
        targetSelector: '[data-tutorial="pipeline"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'CRM Completato! üéâ',
        description: 'Aggiorna la pipeline regolarmente. Un lead seguito bene si converte pi√π facilmente in commessa.',
        position: 'center',
      },
    ],
  },
  {
    id: 'listino-prezzi',
    title: 'Listino Prezzi',
    description: 'Articoli, prezzi, categorie, margini',
    icon: 'Euro',
    estimatedTime: '3 min',
    category: 'commerciale',
    steps: [
      {
        id: 'intro',
        title: 'Listino Prezzi üí∂',
        description: 'Catalogo articoli con prezzi, costi, margini. Base per preventivi e computi metrici.',
        position: 'center',
      },
      {
        id: 'nav-listino',
        title: 'Vai a Listino',
        description: 'Menu Ufficio Commerciale ‚Üí Listino Prezzi.',
        targetSelector: '[data-tutorial="nav-listino"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'listino-page',
        title: 'Catalogo Articoli',
        description: 'Codice, descrizione, unit√†, prezzo unitario, costo, margine %. Filtra per categoria.',
        route: '/listino-prezzi',
        position: 'center',
      },
      {
        id: 'complete',
        title: 'Listino Completato! ‚ú®',
        description: 'Mantieni i prezzi aggiornati. Importa da Excel per aggiornamenti massivi.',
        position: 'center',
      },
    ],
  },

  // ==================== AMMINISTRAZIONE ====================
  {
    id: 'computo-metrico',
    title: 'Computo Metrico',
    description: 'Voci, quantit√†, prezzi, totali - estimativo lavori',
    icon: 'Calculator',
    estimatedTime: '4 min',
    category: 'amministrazione',
    steps: [
      {
        id: 'intro',
        title: 'Computo Metrico üìê',
        description: 'Calcolo dettagliato costi lavori: voci, quantit√†, prezzi unitari, totale. Collegato a listino.',
        position: 'center',
      },
      {
        id: 'nav-computo',
        title: 'Vai a Computo',
        description: 'Menu Reparto Amministrazione ‚Üí Computo Metrico.',
        targetSelector: '[data-tutorial="nav-computo"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'computo-page',
        title: 'Lista Computi',
        description: 'Computi per commessa. Stato: bozza, approvato, in lavorazione. Totale calcolato automaticamente.',
        route: '/computo-metrico',
        position: 'center',
      },
      {
        id: 'nuovo-computo',
        title: '‚ûï Nuovo Computo',
        description: 'Selezione commessa, aggiungi voci da listino, specifica quantit√†. Formula: Qty √ó Prezzo = Importo.',
        targetSelector: '[data-tutorial="btn-nuovo-computo"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Computo Completato! üéâ',
        description: 'Esporta in Excel o PDF. Usa come base per SAL e fatturazione.',
        position: 'center',
      },
    ],
  },
  {
    id: 'gestione-sal',
    title: 'SAL - Avanzamento Lavori',
    description: 'Registrazione, grafico, confronto previsto/consuntivo',
    icon: 'TrendingUp',
    estimatedTime: '3 min',
    category: 'amministrazione',
    steps: [
      {
        id: 'intro',
        title: 'SAL - Stato Avanzamento üìà',
        description: 'Registra l\'avanzamento economico dei lavori. Base per fatturazione e controllo margini.',
        position: 'center',
      },
      {
        id: 'nav-sal',
        title: 'Vai a SAL',
        description: 'Menu Commesse ‚Üí SAL.',
        targetSelector: '[data-tutorial="nav-sal"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'sal-page',
        title: 'Dashboard SAL',
        description: 'Grafico cumulativo per commessa. Confronto previsto vs consuntivo. Scostamenti evidenziati.',
        route: '/sal',
        position: 'center',
      },
      {
        id: 'nuovo-sal',
        title: '‚ûï Nuovo SAL',
        description: 'Campi: Commessa, Numero progressivo, Data, Importo certificato, Note lavori eseguiti.',
        targetSelector: '[data-tutorial="btn-nuovo-sal"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'SAL Completato! ‚ú®',
        description: 'Registra SAL regolarmente. Il grafico mostra subito ritardi o anticipi rispetto al piano.',
        position: 'center',
      },
    ],
  },
  {
    id: 'rapportini-lavoro',
    title: 'Rapportini Giornalieri',
    description: 'Giornale lavori, ore, materiali, foto',
    icon: 'FileEdit',
    estimatedTime: '3 min',
    category: 'amministrazione',
    steps: [
      {
        id: 'intro',
        title: 'Rapportini Lavoro üìù',
        description: 'Documenta ogni giornata: personale presente, ore lavorate, lavorazioni, materiali, foto.',
        position: 'center',
      },
      {
        id: 'nav-rapportini',
        title: 'Vai a Rapportini',
        description: 'Menu Commesse ‚Üí Rapportini.',
        targetSelector: '[data-tutorial="nav-rapportini"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'rapportini-page',
        title: 'Elenco Rapportini',
        description: 'Storico per data/commessa. Dettaglio: lavoratori, ore, attivit√†, materiali usati.',
        route: '/rapportini',
        position: 'center',
      },
      {
        id: 'nuovo-rapportino',
        title: '‚ûï Nuovo Rapportino',
        description: 'Campi: Commessa, Data, Personale con ore, Lavorazioni eseguite, Materiali, Meteo, Note, Foto.',
        targetSelector: '[data-tutorial="btn-nuovo-rapportino"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'Rapportini Completato! üéâ',
        description: 'Compila rapportino ogni sera. √à documentazione legale in caso di contenzioso con committente.',
        position: 'center',
      },
    ],
  },

  // ==================== LOGISTICA ====================
  {
    id: 'gestione-risorse',
    title: 'Risorse e Mezzi',
    description: 'Veicoli, attrezzature, manutenzioni, scadenze',
    icon: 'Truck',
    estimatedTime: '4 min',
    category: 'logistica',
    steps: [
      {
        id: 'intro',
        title: 'Parco Mezzi üöõ',
        description: 'Gestione veicoli e attrezzature: anagrafica, documenti, manutenzioni, assegnazioni, costi.',
        position: 'center',
      },
      {
        id: 'nav-risorse',
        title: 'Vai a Risorse',
        description: 'Menu Logistica ‚Üí Risorse/Mezzi.',
        targetSelector: '[data-tutorial="nav-risorse"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'risorse-page',
        title: 'Elenco Risorse',
        description: 'Veicoli, macchinari, attrezzature. Stato: disponibile, in uso, in manutenzione. Scadenze documenti.',
        route: '/risorse',
        position: 'center',
      },
      {
        id: 'manutenzioni',
        title: 'üîß Piano Manutenzioni',
        description: 'Manutenzioni programmate/eseguite. Alert scadenze. Storico interventi e costi.',
        targetSelector: '[data-tutorial="tab-manutenzioni"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'Risorse Completato! ‚ú®',
        description: 'Mezzi in ordine = sicurezza + efficienza. Programma manutenzioni con anticipo.',
        position: 'center',
      },
    ],
  },
  {
    id: 'gestione-magazzino',
    title: 'Magazzino',
    description: 'Articoli, giacenze, movimenti, sottoscorta',
    icon: 'Warehouse',
    estimatedTime: '3 min',
    category: 'logistica',
    steps: [
      {
        id: 'intro',
        title: 'Gestione Magazzino üì¶',
        description: 'Inventario materiali: giacenze, movimenti (carichi/scarichi), soglie minime, ubicazioni.',
        position: 'center',
      },
      {
        id: 'nav-magazzino',
        title: 'Vai a Magazzino',
        description: 'Menu Logistica ‚Üí Magazzino.',
        targetSelector: '[data-tutorial="nav-magazzino"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'magazzino-page',
        title: 'Inventario',
        description: 'Codice, descrizione, giacenza, scorta minima (alert se sotto), ubicazione, valore.',
        route: '/magazzino',
        position: 'center',
      },
      {
        id: 'movimenti',
        title: 'üìä Movimenti',
        description: 'Carico (acquisto/reso), Scarico (a cantiere), Rettifica inventario. Storico completo.',
        targetSelector: '[data-tutorial="tab-movimenti"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'Magazzino Completato! üéâ',
        description: 'Imposta soglie minime per ricevere alert sottoscorta prima di restare senza materiale.',
        position: 'center',
      },
    ],
  },
  {
    id: 'gestione-ddt',
    title: 'DDT - Documenti Trasporto',
    description: 'Creazione, stampa, gestione DDT',
    icon: 'FileText',
    estimatedTime: '3 min',
    category: 'logistica',
    steps: [
      {
        id: 'intro',
        title: 'DDT - Trasporto üöö',
        description: 'Documenti di Trasporto digitali: creazione rapida, numerazione automatica, stampa PDF.',
        position: 'center',
      },
      {
        id: 'nav-ddt',
        title: 'Vai a DDT',
        description: 'Menu Logistica ‚Üí DDT. Oppure da Magazzino ‚Üí Genera DDT.',
        targetSelector: '[data-tutorial="nav-ddt"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'ddt-page',
        title: 'Elenco DDT',
        description: 'Numero, data, mittente, destinatario, stato. Filtra per commessa o periodo.',
        route: '/magazzino',
        position: 'center',
      },
      {
        id: 'nuovo-ddt',
        title: '‚ûï Nuovo DDT',
        description: 'Campi: Tipo (uscita/entrata), Destinatario, Commessa, Articoli, Quantit√†, Vettore.',
        targetSelector: '[data-tutorial="btn-nuovo-ddt"]',
        position: 'bottom',
        action: 'hover',
      },
      {
        id: 'complete',
        title: 'DDT Completato! ‚ú®',
        description: 'DDT = prova consegna materiali. Stampa sempre copia per firma destinatario.',
        position: 'center',
      },
    ],
  },

  // ==================== COMPLIANCE ====================
  {
    id: 'gdpr-compliance',
    title: 'GDPR Privacy',
    description: 'Registro trattamenti, informative, consensi',
    icon: 'Shield',
    estimatedTime: '4 min',
    category: 'compliance',
    steps: [
      {
        id: 'intro',
        title: 'GDPR - Privacy üîí',
        description: 'Conformit√† Regolamento UE 2016/679: registro trattamenti, informative, consensi, DPIA.',
        position: 'center',
      },
      {
        id: 'nav-gdpr',
        title: 'Vai a GDPR',
        description: 'Menu Conformit√† ‚Üí GDPR Privacy.',
        targetSelector: '[data-tutorial="nav-gdpr"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'gdpr-page',
        title: 'Dashboard GDPR',
        description: 'Checklist conformit√†, documenti generabili, stato implementazione.',
        route: '/gdpr-compliance',
        position: 'center',
      },
      {
        id: 'documenti-gdpr',
        title: 'üìÑ Documenti',
        description: 'Registro trattamenti, Informativa privacy, Nomina responsabili, Consensi, DPIA. Genera PDF.',
        targetSelector: '[data-tutorial="docs-gdpr"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'GDPR Completato! ‚ú®',
        description: 'Sanzioni GDPR fino a ‚Ç¨20M o 4% fatturato. Mantieni documentazione aggiornata.',
        position: 'center',
      },
    ],
  },
  {
    id: 'iso-9001',
    title: 'ISO 9001 Qualit√†',
    description: 'Sistema gestione qualit√†, procedure, audit',
    icon: 'Award',
    estimatedTime: '4 min',
    category: 'compliance',
    steps: [
      {
        id: 'intro',
        title: 'ISO 9001 - Qualit√† üèÜ',
        description: 'Sistema Gestione Qualit√†: politica, obiettivi, procedure, audit interni, non conformit√†.',
        position: 'center',
      },
      {
        id: 'nav-iso9001',
        title: 'Vai a ISO 9001',
        description: 'Menu Conformit√† ‚Üí ISO 9001.',
        targetSelector: '[data-tutorial="nav-iso9001"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'iso-page',
        title: 'Dashboard ISO 9001',
        description: 'Stato certificazione, scadenze audit, documenti sistema qualit√†, indicatori.',
        route: '/quality-iso',
        position: 'center',
      },
      {
        id: 'complete',
        title: 'ISO 9001 Completato! üéâ',
        description: 'ISO 9001 = vantaggio competitivo + requisito per gare pubbliche.',
        position: 'center',
      },
    ],
  },
  {
    id: 'iso-14001',
    title: 'ISO 14001 Ambiente',
    description: 'Gestione ambientale, aspetti, impatti',
    icon: 'Leaf',
    estimatedTime: '3 min',
    category: 'compliance',
    steps: [
      {
        id: 'intro',
        title: 'ISO 14001 - Ambiente üåø',
        description: 'Sistema Gestione Ambientale: aspetti ambientali, impatti, controlli operativi, emergenze.',
        position: 'center',
      },
      {
        id: 'nav-iso14001',
        title: 'Vai a ISO 14001',
        description: 'Menu Conformit√† ‚Üí ISO 14001.',
        targetSelector: '[data-tutorial="nav-iso14001"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'iso-page',
        title: 'Dashboard ISO 14001',
        description: 'Analisi ambientale, registro aspetti/impatti, indicatori, gestione rifiuti.',
        route: '/environmental-iso',
        position: 'center',
      },
      {
        id: 'complete',
        title: 'ISO 14001 Completato! ‚ú®',
        description: 'ISO 14001 = sostenibilit√† + punteggio premiante in gare CAM.',
        position: 'center',
      },
    ],
  },
  {
    id: 'dlgs-81-08',
    title: 'D.Lgs 81/08 Sicurezza',
    description: 'DVR, procedure, moduli sicurezza lavoro',
    icon: 'ShieldCheck',
    estimatedTime: '4 min',
    category: 'compliance',
    steps: [
      {
        id: 'intro',
        title: 'D.Lgs 81/08 - Sicurezza ‚ö†Ô∏è',
        description: 'Testo Unico Sicurezza Lavoro: DVR, procedure, moduli, registro infortuni. Obblighi datore lavoro.',
        position: 'center',
      },
      {
        id: 'nav-dlgs',
        title: 'Vai a D.Lgs 81/08',
        description: 'Menu Conformit√† ‚Üí D.Lgs 81/08.',
        targetSelector: '[data-tutorial="nav-dlgs81"]',
        route: '/dashboard',
        position: 'right',
        action: 'click',
        actionDelay: 1500,
      },
      {
        id: 'dlgs-page',
        title: 'Dashboard Sicurezza',
        description: 'Documenti: DVR, DUVRI, POS, PSC. Moduli: verbali, consegne, sopralluoghi. Genera PDF.',
        route: '/safety-dlgs81',
        position: 'center',
      },
      {
        id: 'documenti-sicurezza',
        title: 'üìÑ Documenti Obbligatori',
        description: 'DVR (valutazione rischi), POS (piano operativo), DUVRI (interferenze), Verbali coordinamento.',
        targetSelector: '[data-tutorial="docs-sicurezza"]',
        position: 'bottom',
      },
      {
        id: 'complete',
        title: 'D.Lgs 81/08 Completato! üéâ',
        description: 'Responsabilit√† penale datore lavoro. Sanzioni fino a ‚Ç¨6.400 + arresto. Mai sottovalutare!',
        position: 'center',
      },
    ],
  },
];
